# [DB] 키(KEY) 에 대해

---

# 키(Key) 의 개념

데이터 베이스에서 조건에 만족하는 튜플을 찾거나 순서대로 정렬할 때 기준이 되는 속성을 말한다.

### 키가 필요한 이유?

중복과 이상현상( 삽입 이상, 수정 이상, 삭제 이상) 등을 방지하기 위함이다.

어떤 특정 데이터를 검색하거나 정렬 하고 싶을 때 키를 이용해 내가 원하는 값을 얻고 식별 할 수 있는 것이다.

### 키의 속성

- 유일성 (Uniqueness) : 하나의 키 값으로 튜플을 **유일하게** 식별할 수 있는 성질을 의미한다.
- 최소성 (Minimality) : 키를 구성하는 속성들 중 **꼭 필요한 최소한의 속성들로만 키를 구성하는 성질**을 의미한다.

---

## 키**의 종류**

- **슈퍼 키(Super Key)**: **유일성**을 만족하는 키. 예를 들면, {학번 + 이름}, {주민등록번호 + 학번}
- **복합 키(Composite Key)**: **2개 이상**의 속성(attribute)를 사용한 키.
- **후보 키(Candidate key)**: **유일성**과 **최소성**을 만족하는 키. 기본키가 될 수 있는 후보이기 때문에 후보키라고 불린다. 예를 들면, 주민등록번호, 학번 등
- **기본 키(Primary key)**: 후보 키에서 선택된 키. NULL값이 들어갈 수 없으며, 기본키로 선택된 속성(Attribute)은 동일한 값이 들어갈 수가 없다.
- **대체 키(Surrogate key)**: 후보 키 중에 기본 키로 선택되지 않은 키.
- **외래 키(Foreign Key):** 어떤 테이블(Relation) 간의 기본 키(Primary key)를 참조하는 속성이다. 테이블(Relation)들 간의 관계를 나타내기 위해서 사용된다.

<img src="https://github.com/GYEONGDONGBAEK/study/assets/122242439/cd9551e8-4ef4-4177-9e83-1be8309887a2">

---

## 슈퍼 키

- 슈퍼키(super key)는 유일성의 특성을 만족하는 속성 또는 속성들의 집합이다.
- 릴레이션을 구성하는 모든 튜플에 대해 유일성은 만족하지만, 최소성은 만족시키지 못한다.

## 후보 키

- 후보키는 릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합, 즉 기본키로 사용할 수 있는 속성들을 말한다.
- 하나의 릴레이션내에서는 중복된 튜플들이 있을 수 없으므로 모든 릴레이션에는 반드시 하나 이상의 후보키가 존재한다.
- 후보키는 릴레이션에 있는 모든 튜플에 대해서 유일성과 최소성을 만족시켜야 한다.

## 기본 키

- 기본키는 후보키 중에서 선택한 주키(Main Key)이다.
- 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성이다.
- Null값을 가질 수 없다.
- 기본키로 정의된 속성에는 동일한 값이 중복되어 저장될 수 없다.

예시로는, **주민등록번호** 같이 동일한 값을 가질 수 없는 것이 기본키가 된다고 생각하면 된다. 

## 대체 키

- 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말한다.
- 보조키라고도 한다.

## 외래 키

- 관계를 맺고 있는 릴레이션 R1,R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성을 외래키라고 한다.
- 외래키는 참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조관계를 표현하는데 중요한 도구이다.

<img src="https://github.com/GYEONGDONGBAEK/study/assets/122242439/9e784459-9357-4ec6-bfe0-37b2d872b7e1">